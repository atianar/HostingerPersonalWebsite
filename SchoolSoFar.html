<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog 1 Post 1 Disscusion</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<style>
    *{
    box-sizing: border-box;
}

body{
    box-sizing: border-box;
    font-size: 14px;
    background: #e9e9e9;
    margin: 0;
    font-family: 'Roboto', sans-serif;
}

.container{
  position: relative;
  width: 90;
  height: 87vh;
  border: 5px solid #fff;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Header/logo Title */
.header {
  padding: 80px;
  text-align: center;
  background: #4d008c;
  color: white;
}

.btnbtn-infobtn-lg {
  float: right;
  padding: 16px;
}


/* Increase the font size of the heading */
.header h1 {
  font-size: 40px;
}

/* Sticky navbar - toggles between relative and fixed, depending on the scroll position. It is positioned relative until a given offset position is met in the viewport - then it "sticks" in place (like position:fixed). The sticky value is not supported in IE or Edge 15 and earlier versions. However, for these versions the navbar will inherit default position */
.navbar {
  overflow: hidden;
  background-color: #333;
}

/* Style the navigation bar links */
.navbar a {
  float: left;
  font-size:16px;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  transition: background-color 0.3s;
}

.dropdown {
  float: left;
  overflow: hidden;
}

.dropdown .dropbtn {
  font-size: 16px;  
  border: none;
  outline: none;
  color: white;
  padding: 14px 16px;
  background-color: inherit;
  font-family: inherit;
  margin: 0;
}

/* Right-aligned link */
.navbar a.right {
  float: right;
}

/* Change color on hover */
.navbar a:hover, .dropdown:hover .dropbtn {
  background-color: #555;
  color:black;
  transition:color 0.3s;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  float: none;
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.dropdown-content a:hover {
  background-color: #ddd;
}

.dropdown:hover .dropdown-content {
  display: block;
}

/* Active/current link */
.navbar a.active {
  background-color: #4d008c;
  color: white;
}


/* Add a grey background color to dropdown links on hover */
.dropdown-content a:hover {
  background-color: #ddd;
}

/* Show the dropdown menu on hover */
.dropdown:hover .dropdown-content {
  display: block;
}

/* Change the background color of the dropdown button when the dropdown content is shown */
.dropdown:hover .dropbtn {background-color: #555;}

/* Column container */
.row {  
  display: -ms-flexbox; /* IE10 */
  display: flex;
  -ms-flex-wrap: wrap; /* IE10 */
  flex-wrap: wrap;
}

/* Create two unequal columns that sits next to each other */
/* Sidebar/left column */
.side {
  -ms-flex: 30%; /* IE10 */
  flex: 30%;
  background-color: #f1f1f1;
  padding: 20px;
}

/* Main column */
.main {   
  -ms-flex: 70%; /* IE10 */
  flex: 70%;
  background-color: white;
  padding: 20px;
}

.comment-box, 
.post-comment .list{
    background: #fff;
    border-radius:6px;
    box-shadow: 0 2px 2px #0002;
}

.comment-session{
    width: 650px;
    height: auto;
    margin: 0 auto;
}

.post-comment .list{
    width: 100%;
    margin-bottom: 12px;
}

.post-comment .list .user{
    display: flex;
    padding: 8px;
    overflow: hidden;
}

.post-comment .list .user img{
    height: 38px;
    width: 28px;
    margin-right: 10px;
    border-radius: 50%;
}

.comment-session {
        width: 650px;
        height: auto;
        margin: 0 auto;
    }

.comment-session .name{
    text-transform: uppercase;
    font-weight: 500px;
}

.post-comment .list .day{
    font-size: 12px;
}

.post-comment .comment-post{
    padding: 0 0 15px 58px;
}

 /* Reply Box */

.reply-section {
    margin-top: 10px;
}

.reply-btn {
    background-color: #009cff;
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}

.reply-btn:hover {
    background-color: #0076bf;
}

.reply-box {
    margin-top: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 10px;
    background-color: #f9f9f9;
}

.reply-box textarea {
    width: 100%;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 8px;
    resize: none; /* Prevent resizing */
}

.reply-box textarea:focus {
    border-color: #009cff;
    outline: none;
}

.submit-reply {
    background-color: #28a745;
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 5px;
    transition: background-color 0.3s;
}

.submit-reply:hover {
    background-color: #218838;
}

/* Comment Box */

.comment-box{
    padding: 10px;
    overflow: hidden;
}

.comment-box .user{
    display: flex;
    width: min-content;
}

.comment-box .image img{
    width: 24px;
    height: 24px;
    margin-right: 10px;
    border-radius: 50px;
}

.comment-box textarea{
    background: #eee;
    width: -webkit-fill-available;
    height: 152px;
    margin: 10px 0;
    padding: 10px;
    resize: inherit;
    border-radius: 5px;
    border: none;
    box-shadow: 0 0 0 0.5px #0003;
}

.comment-box textarea:focus-visible{
    box-shadow: inset 0 0 0 1px #009cff;
    outline: none;
}

.comment-box .comment-submit{
    float: right;
    padding: 6px 10px;
    border: none;
    background: #009cff;
    color: #eee;
    cursor: pointer;
    border-radius: 3px;
}

.comment-box .comment-submit:hover{
    background: #0076bf;
}


/* Footer */
.footer {
  padding: 20px;
  text-align: center;
  background: #ddd;
}

/* Responsive layout - when the screen is less than 700px wide, make the two columns stack on top of each other instead of next to each other */
@media screen and (max-width: 700px) {
  .row {   
    flex-direction: column;
  }
}

/* Responsive layout - when the screen is less than 400px wide, make the navigation links stack on top of each other instead of next to each other */
@media screen and (max-width: 400px) {
  .navbar a {
    float: none;
    width: 100%;
  }
}

@media screen and(max-width:660px){
 .comment-session{width: 100%}
}

</style>
<body>
    <div class="header">
        <a href="index.html">
          <span class="glyphicon glyphicon-log-out"></span>
        </a>
        <h1>AcademicLife: 2024 - 2025</h1>
        <p>A <b>responsive</b> blog website created to document my progress in my internship for the first time as well as the development of this blog website.</p>
    </div>
    <div class="navbar">
        <a href="#" active>Home(Posts)</a>
        <a href="index5.html">Contact Me</a>
        <a href="index6.html">Report Issues</a>
        <a href="index7.html">Social Media</a>
        <div class="dropdown">
          <button class="dropbtn">Table of Contents
            <i class="fa fa-caret-down"></i>
          </button>
          <div class="dropdown-content">
            <a href="index5.html">Contact Me</a>
            <a href="index6.html">Report Issues</a>
            <a href="index7.html">Social Media</a>
          </div>
        </div>
        <input type="text" placeholder="Search..." class="form-control" style="margin: 10px; width: auto; display: inline-block;">
    </div>
    <a href="index4.html"><button>Back to Home(Posts)</button></a>
    <h2>School so Far 2024</h2>
    <h5>First Day of School, Aug 12, 2024</h5>
    <img src="/Pictures/FirstDay.png" height="200px">
    <p>This is a picture of all of the things that are in the vehicle today.</p>
    <p>This is going to be the start of a long semester. I hope that 2024 - 2025 will be a good year!</p>
    <hr>
<div class="comment-section">
    <div class="sort-options">
        <label for="sortComments">Sort by:</label>
        <select id="sortComments">
            <option value="latest">Latest</option>
            <option value="oldest">Oldest</option>
            <option value="popular">Most Liked</option>
        </select>
    </div>
    <div class="post-comment">
        <!-- Comments will be generated dynamically here -->
        <div class="list" data-comment-id="1"> <!-- Unique ID for the comment -->
            <div class="user">
                <div class="user-image"><img src="./Pictures/avatar.png" alt="image"></div>
                <div class="user-meta">
                    <div class="name">Atiana R.</div>
                    <div class="day">10 days ago</div>
                </div>
            </div>
            <div class="comment-post">This is the first comment...</div>
            <div class="comment-actions">
                <button class="like-btn">üëç Like</button>
                <span class="like-count">0</span>
                <button class="dislike-btn">üëé Dislike</button>
                <span class="dislike-count">0</span>
            </div>
            <div class="reply-section">
                <button class="reply-btn">Reply</button>
                <div class="reply-box" style="display: none;">
                    <textarea placeholder="Write your reply..." rows="3"></textarea>
                    <button class="submit-reply">Submit Reply</button>
                </div>
            </div>
            <div class="reply-container"></div> <!-- Container for replies -->
        </div>
    </div>
    <div class="comment-box">
        <form action="" method="POST">
            <textarea name="comment" placeholder="Join the conversation..."></textarea>
            <button class="comment-submit">Comment</button>
        </form>
    </div>
</div class="post-comment"></div> <!-- Where comments will be displayed -->
<div class="footer">
    <h2>Credits</h2>
    <p>Written and Created by Atiana Ramos</p>
</div>
<script>
  $(document).ready(function() {
      // Initialize like and dislike counts from localStorage
      let likeCount = parseInt(localStorage.getItem('likeCount')) || 0;
      let dislikeCount = parseInt(localStorage.getItem('dislikeCount')) || 0;
      const liked = localStorage.getItem('liked') === 'true';
      const disliked = localStorage.getItem('disliked') === 'true';

      // Set initial counts and states
      $('.like-count').text(likeCount);
      $('.dislike-count').text(dislikeCount);
      $('.like-btn').data('liked', liked);
      $('.dislike-btn').data('disliked', disliked);
      if (liked) {
          $('.like-btn').text('üëç Liked');
      }
      if (disliked) {
          $('.dislike-btn').text('üëé Disliked');
      }

      // Like button click event
      $('.like-btn').on('click', function() {
          const liked = $(this).data('liked');
          if (liked) {
              likeCount--;
              $(this).data('liked', false);
              $(this).text('üëç Like');
          } else {
              likeCount++;
              $(this).data('liked', true);
              $(this).text('üëç Liked');
          }
          localStorage.setItem('likeCount', likeCount);
          localStorage.setItem('liked', $(this).data('liked'));
          $(this).next('.like-count').text(likeCount);
      });

      // Dislike button click event
      $('.dislike-btn').on('click', function() {
          const disliked = $(this).data('disliked');
          if (disliked) {
              dislikeCount--;
              $(this).data('disliked', false);
              $(this).text('üëé Dislike');
          } else {
              dislikeCount++;
              $(this).data('disliked', true);
              $(this).text('üëé Disliked');
          }
          localStorage.setItem('dislikeCount', dislikeCount);
          localStorage.setItem('disliked', $(this).data('disliked'));
          $(this).next('.dislike-count').text(dislikeCount);
      });
  });

  $(document).ready(function() {
    // Load replies from localStorage on page load
    loadReplies();

    $('.reply-btn').on('click', function() {
        $(this).siblings('.reply-box').toggle();
    });

    $('.submit-reply').on('click', function() {
        const replyText = $(this).siblings('textarea').val();
        const commentId = $(this).closest('.list').data('comment-id'); // Assuming each comment has a unique ID
        
        if (replyText.trim()) {
            // Save the reply
            saveReply(commentId, replyText);
            // Clear the textarea and hide the reply box
            $(this).siblings('textarea').val('');
            $(this).parent('.reply-box').hide();
            // Load replies to display
            loadReplies();
        }
    });
  });

  // Function to save replies to localStorage
  function saveReply(commentId, replyText) {
      let replies = JSON.parse(localStorage.getItem('replies')) || {};
    
      if (!replies[commentId]) {
          replies[commentId] = []; // Initialize if no replies exist
      }
    
      replies[commentId].push(replyText);
      localStorage.setItem('replies', JSON.stringify(replies));
  }

  // Function to load replies from localStorage
  function loadReplies() {
      const replies = JSON.parse(localStorage.getItem('replies')) || {};
    
      $('.post-comment .list').each(function() {
          const commentId = $(this).data('comment-id'); // Unique ID for each comment
          const replyContainer = $(this).find('.reply-container');
        
          replyContainer.empty(); // Clear previous replies
        
          if (replies[commentId]) {
              replies[commentId].forEach(reply => {
                  replyContainer.append(`<div class="reply">${reply}</div>`);
              });
          }
      });
  }

</script>
</body>
</html>
